{% extends "base.html" %}

{% block content %}
<h1>Maintenance Record Details</h1>
<p><strong>Equipment Serial Number:</strong> {{ maintenance_record.equipment_sn }}</p>
<p><strong>Problem Description:</strong> {{ maintenance_record.problem_description }}</p>
<p><strong>Status:</strong> {{ "Active" if maintenance_record.active else "Inactive" }}</p>

<h2>Status History</h2>
<table border="1">
    <thead>
        <tr>
            <th>Status Type</th>
            <th>Date</th>
            <th>Notes</th>
            <th>Registered By</th>
        </tr>
    </thead>
    <tbody>
        {% for status in maintenance_record.statuses %}
        <tr>
            <td>{{ status.status_type }}</td>
            <td>{{ status.status_date.strftime('%Y-%m-%d %H:%M:%S') }}</td>
            <td>{{ status.notes }}</td>
            <td>{{ status.registered_by.name }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<a href="{{ url_for('add_status', record_id=maintenance_record.id) }}">Add New Status</a>
{% endblock %}